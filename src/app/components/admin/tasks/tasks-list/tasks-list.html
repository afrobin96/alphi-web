<div class="container mt-4">
  <div class="d-flex justify-content-between align-items-center mb-3">
    <h3>Tareas</h3>
    <a class="btn btn-primary" routerLink="/admin/tasks/new">+ Nueva Tarea</a>
  </div>

  @if(loading()){
    <app-loader></app-loader>
  }


  <table class="table table-striped">
  <thead>
    <tr>
      <th>Título</th>
      <th>Valor</th>
      <th>Estado</th>
      <th>Proyecto</th>
      <th>Miembro</th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    @for( task of tasks(); track task.id){
      <tr>
      <td>{{ task.title }}</td>
      <td>{{ task.value }}</td>
      <td>{{ task.status }}</td>
      <td>{{ task.project?.name || '—' }}</td>
      <td>{{ task.member?.name || '—' }}</td>
      <td class="text-end">
        <button class="btn btn-sm btn-warning me-2" (click)="edit(task)">Editar</button>
        <button class="btn btn-sm btn-danger" (click)="delete(task.id!)">Eliminar</button>
      </td>
    </tr>
    } @empty {
      <h4>There are no items.</h4>
    }

  </tbody>
</table>


</div>
